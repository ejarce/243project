---
title: "the work"
author: "EJ Arce"
date: "11/29/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

```{r}
# Import the data
GSS3 <- read.csv("https://raw.githubusercontent.com/ejarce/243project/master/college_major_set_1/GSS3.csv")
prestige <- read.csv("https://raw.githubusercontent.com/ejarce/243project/master/college_major_set_1/GSSprestige.csv")
```

### Tidying the data

```{r}
library(dplyr)
prestige <- prestige[-c(4513,4514),]
prestige <- prestige %>%
  rename(IDnum = Idnum) %>%
  select(1,2,4)
GSS3 <- GSS3[-4513,]
GSS3 <- distinct(GSS3)
GSS3$IDnum <- as.integer(GSS3$IDnum)
GSS3$GSSyear <- as.integer(GSS3$GSSyear)
prestige$IDnum <- as.integer(prestige$IDnum)
prestige$GSSyear <- as.integer(prestige$GSSyear)
GSS3 <- left_join(GSS3, prestige, by = c("IDnum", "GSSyear"))
GSS3[GSS3 == "Not applicable"] <- NA
GSS3[GSS3 == "No answer"] <- NA
GSS3$colltype <- ifelse(GSS3$colltype %in% c(
  "Private for-profit, 2-year",
  "Private for-profit, less-than 2-year",
  "Private not-for-profit, 4-year or above",
  "Private for-profit, 4-year or above",
  "Private not-for-profit, 2-year or less"), "Private",
  ifelse(GSS3$colltype %in% c(
    "Public, 4-year or above",
    "Public, 2-year"), "Public", "none"))
GSS3 <- GSS3 %>%
  mutate(racism = ifelse(racism == "Yes", "Yes",
                         ifelse(racism == "No", "No", NA))) %>%
  mutate(ageism = ifelse(ageism == c("Dont know", "No answer", "Not applicable"), NA,
                         ifelse(ageism == "No", "No", "Yes"))) %>%
  mutate(income = ifelse(income == "$10000 - 14999", 1000, 
         ifelse(income == "$1000 to 2999", 1000,
                ifelse(income == "$15000 - 19999", 15000,
                       ifelse(income == "$20000 - 24999", 20000,
                              ifelse(income == "$25000 or more", 25000,
                                     ifelse(income == "$3000 to 3999", 3000,
                                            ifelse(income == "$4000 to 4999", 4000,
          ifelse(income == "$5000 to 5999", 5000,
                 ifelse(income == "$6000 to 6999", 6000,
                        ifelse(income == "$7000 to 7999", 7000,
                               ifelse(income == "$8000 to 9999", 8000,
                                      ifelse(income == "Lt $1000", 0, NA))))))))))))) %>%
  mutate(selfEmploy = ifelse(selfEmploy == "Self-employed", 1, 0)) %>%
  mutate(GovOrPriv = ifelse(GovOrPriv == "Government", "Government",
                            ifelse(GovOrPriv == "Private", "Private", NA))) %>%
  mutate(PlaceLived16 = ifelse(PlaceLived16 == "Town lt 50000", 0,
                               ifelse(PlaceLived16 == "50000 to 250000", 50000,
                                      ifelse(PlaceLived16 == "City gt 250000", 250000,
                                             ifelse(PlaceLived16 == "Big-city suburb","Big-city suburb", NA)))))
```

